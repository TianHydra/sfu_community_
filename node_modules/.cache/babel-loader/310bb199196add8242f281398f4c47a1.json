{"ast":null,"code":"var _jsxFileName = \"/Users/aryanarora/Desktop/Courses/CMPT 474/Assignments/PR#1/sfu_community/src/Components/Post.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport './Post.css';\nimport axios from \"axios\";\nimport config from \"../config.json\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Post(props) {\n  _s();\n\n  const [postsData, setPostsData] = useState([]);\n  const [newPostTitle, setNewPostTitle] = useState(null);\n  const [newPostBody, setNewPostBody] = useState(null); //Modal state\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  async function fetchPosts() {\n    try {\n      const res = await axios.get(`${config.api.invokeURL}/posts`);\n      setPostsData(res.data);\n      console.log(res.data);\n    } catch (err) {\n      console.log(\"error fetching posts: \", err);\n    }\n  }\n\n  async function postPosts() {\n    try {\n      let id = new Date().valueOf();\n      const res = await axios.post(`${config.api.invokeURL}/posts/${id}`, {});\n      setPostsData(res.data);\n      console.log(res.data);\n    } catch (err) {\n      console.log(\"error fetching posts: \", err);\n    }\n  }\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  function inputChangeHandler(event) {\n    switch (event.target.name) {\n      case \"title\":\n        setNewPostTitle(event.target.value);\n        break;\n\n      case \"body\":\n        setNewPostBody(event.target.value);\n        break;\n\n      default:\n        console.log(\"input handler waiting for input\");\n    }\n  }\n\n  function handleSubmit() {\n    postPosts();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-container\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      className: \"add-new-post-btn\",\n      onClick: handleShow,\n      children: \"Add new Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Add new Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"postTitle\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Title\",\n              name: \"title\",\n              onChange: inputChangeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"postBody\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Body\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Description\",\n              name: \"body\",\n              onChange: inputChangeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), postsData.map(post => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-container\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: '40rem',\n            height: '15rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: post.postTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n              className: \"mb-2 text-muted\",\n              children: [\"by \", post.postCreatorUsername]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: post.postBody\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-created\",\n              children: post.postDateAndTimeCreated\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Post, \"dkXADHVS5KveDRkJiwtz5mpUQQU=\");\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/aryanarora/Desktop/Courses/CMPT 474/Assignments/PR#1/sfu_community/src/Components/Post.js"],"names":["React","useState","useEffect","axios","config","Card","Button","Modal","Form","Post","props","postsData","setPostsData","newPostTitle","setNewPostTitle","newPostBody","setNewPostBody","show","setShow","handleClose","handleShow","fetchPosts","res","get","api","invokeURL","data","console","log","err","postPosts","id","Date","valueOf","post","inputChangeHandler","event","target","name","value","handleSubmit","map","width","height","postTitle","postCreatorUsername","postBody","postDateAndTimeCreated"],"mappings":"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","sourcesContent":["import React,  { useState, useEffect } from \"react\";\nimport './Post.css';\nimport axios from \"axios\";\nimport config from \"../config.json\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\n\nfunction Post(props) {\n\n    const [postsData, setPostsData] = useState([]);\n    const [newPostTitle, setNewPostTitle] = useState(null);\n    const [newPostBody, setNewPostBody] = useState(null);\n\n    //Modal state\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    async function fetchPosts() {\n        try {\n            const res = await axios.get(`${config.api.invokeURL}/posts`);\n            setPostsData(res.data);\n            console.log(res.data)\n        }\n        catch (err) {\n            console.log(\"error fetching posts: \", err)\n        }\n    }\n\n    async function postPosts() {\n        try {\n            let id = new Date().valueOf();\n            const res = await axios.post(`${config.api.invokeURL}/posts/${id}`, {\n                \n            });\n            setPostsData(res.data);\n            console.log(res.data)\n        }\n        catch (err) {\n            console.log(\"error fetching posts: \", err)\n        }\n    }\n\n    useEffect(() => {\n        fetchPosts();\n    }, [])\n\n    function inputChangeHandler(event) {\n        switch (event.target.name) {\n            case \"title\":\n                setNewPostTitle(event.target.value);\n                break;\n            case \"body\":\n                setNewPostBody(event.target.value);\n                break;\n            default:\n                console.log(\"input handler waiting for input\")\n        }\n    }\n\n    function handleSubmit() {\n        postPosts();\n\n    }\n\n    return (\n        <div className='post-container'>\n            <Button variant=\"primary\" className=\"add-new-post-btn\" onClick={handleShow}>\n                Add new Post\n            </Button>\n\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Add new Post</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form>\n                        <Form.Group controlId=\"postTitle\">\n                            <Form.Label>Title</Form.Label>\n                            <Form.Control type=\"text\" placeholder=\"Enter Title\" name=\"title\" onChange={inputChangeHandler}/>\n                        </Form.Group>\n\n                        <Form.Group controlId=\"postBody\">\n                            <Form.Label>Body</Form.Label>\n                            <Form.Control type=\"text\" placeholder=\"Description\" name=\"body\" onChange={inputChangeHandler}/>\n                        </Form.Group>\n                    </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button variant=\"primary\" onClick={handleSubmit}>\n                        Add\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n\n\n\n            {postsData.map(post => {\n                return (\n                    <div className=\"post-container\">\n                        <Card style={{ width: '40rem', height: '15rem' }}>\n                            <Card.Body>\n                                <Card.Title>{post.postTitle}</Card.Title>\n                                <Card.Subtitle className=\"mb-2 text-muted\">by {post.postCreatorUsername}</Card.Subtitle>\n                                <Card.Text>\n                                    {post.postBody}\n                                </Card.Text>\n                                <div className=\"date-created\">\n                                    {post.postDateAndTimeCreated}\n                                </div>\n                            </Card.Body>\n                        </Card>\n                    </div>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}